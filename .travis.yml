language: python
python:
  - 2.7
os:
  - linux
before_install:
  - chmod +x devtools/travis-ci/chimera.sh
  - chmod +x devtools/travis-ci/miniconda.sh
  # Chimera:
  - devtools/travis-ci/chimera.sh
  # Miniconda:
  - devtools/travis-ci/miniconda.sh
install:
  # Install Pychimera
  - source $HOME/miniconda/etc/profile.d/conda.sh
  - conda activate
  - $HOME/miniconda/bin/conda config --set always_yes yes
  - $HOME/miniconda/bin/conda install -c insilichem pychimera
  - conda install -q -n base conda conda-build
  # Show conda info for debugging
  - conda info -a
  - conda list
  - env | sort
  # Install package
  - pip install -i https://test.pypi.org/simple/ compare-equal
script:
  # Check package
  - pytest -s
